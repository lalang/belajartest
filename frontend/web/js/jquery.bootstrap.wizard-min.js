/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.0
 * Requires jQuery v1.3.2 or later
 * Supports Bootstrap 2.2.x, 2.3.x, 3.0
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
(function(b){var a=function(f,k){var f=b(f);var e=this;var i='li:has([data-toggle="tab"])';var j=b.extend({},b.fn.bootstrapWizard.defaults,k);var g=null;var h=null;this.rebindClick=function(l,m){l.unbind("click",m).bind("click",m)};this.fixNavigationButtons=function(){if(!g.length){h.find("a:first").tab("show");g=h.find(i+":first")}b(j.previousSelector,f).toggleClass("disabled",(e.firstIndex()>=e.currentIndex()));b(j.nextSelector,f).toggleClass("disabled",(e.currentIndex()>=e.navigationLength()));e.rebindClick(b(j.nextSelector,f),e.next);e.rebindClick(b(j.previousSelector,f),e.previous);e.rebindClick(b(j.lastSelector,f),e.last);e.rebindClick(b(j.firstSelector,f),e.first);if(j.onTabShow&&typeof j.onTabShow==="function"&&j.onTabShow(g,h,e.currentIndex())===false){return false}};this.next=function(l){if(f.hasClass("last")){return false}if(j.onNext&&typeof j.onNext==="function"&&j.onNext(g,h,e.nextIndex())===false){return false}$index=e.nextIndex();if($index>e.navigationLength()){}else{h.find(i+":eq("+$index+") a").tab("show")}};this.previous=function(l){if(f.hasClass("first")){return false}if(j.onPrevious&&typeof j.onPrevious==="function"&&j.onPrevious(g,h,e.previousIndex())===false){return false}$index=e.previousIndex();if($index<0){}else{h.find(i+":eq("+$index+") a").tab("show")}};this.first=function(l){if(j.onFirst&&typeof j.onFirst==="function"&&j.onFirst(g,h,e.firstIndex())===false){return false}if(f.hasClass("disabled")){return false}h.find(i+":eq(0) a").tab("show")};this.last=function(l){if(j.onLast&&typeof j.onLast==="function"&&j.onLast(g,h,e.lastIndex())===false){return false}if(f.hasClass("disabled")){return false}h.find(i+":eq("+e.navigationLength()+") a").tab("show")};this.currentIndex=function(){return h.find(i).index(g)};this.firstIndex=function(){return 0};this.lastIndex=function(){return e.navigationLength()};this.getIndex=function(l){return h.find(i).index(l)};this.nextIndex=function(){return h.find(i).index(g)+1};this.previousIndex=function(){return h.find(i).index(g)-1};this.navigationLength=function(){return h.find(i).length-1};this.activeTab=function(){return g};this.nextTab=function(){return h.find(i+":eq("+(e.currentIndex()+1)+")").length?h.find(i+":eq("+(e.currentIndex()+1)+")"):null};this.previousTab=function(){if(e.currentIndex()<=0){return null}return h.find(i+":eq("+parseInt(e.currentIndex()-1)+")")};this.show=function(l){if(isNaN(l)){return f.find(i+" a[href=#"+l+"]").tab("show")}else{return f.find(i+":eq("+l+") a").tab("show")}};this.disable=function(l){h.find(i+":eq("+l+")").addClass("disabled")};this.enable=function(l){h.find(i+":eq("+l+")").removeClass("disabled")};this.hide=function(l){h.find(i+":eq("+l+")").hide()};this.display=function(l){h.find(i+":eq("+l+")").show()};this.remove=function(n){var l=n[0];var o=typeof n[1]!="undefined"?n[1]:false;var m=h.find(i+":eq("+l+")");if(o){var p=m.find("a").attr("href");b(p).remove()}m.remove()};var d=function(m){var l=h.find(i).index(b(m.currentTarget).parent(i));if(j.onTabClick&&typeof j.onTabClick==="function"&&j.onTabClick(g,h,e.currentIndex(),l)===false){return false}};var c=function(m){$element=b(m.target).parent();var l=h.find(i).index($element);if($element.hasClass("disabled")){return false}if(j.onTabChange&&typeof j.onTabChange==="function"&&j.onTabChange(g,h,e.currentIndex(),l)===false){return false}g=$element;e.fixNavigationButtons()};this.resetWizard=function(){b('a[data-toggle="tab"]',h).off("click",d);b('a[data-toggle="tab"]',h).off("shown shown.bs.tab",c);h=f.find("ul:first",f);g=h.find(i+".active",f);b('a[data-toggle="tab"]',h).on("click",d);b('a[data-toggle="tab"]',h).on("shown shown.bs.tab",c);e.fixNavigationButtons()};h=f.find("ul:first",f);g=h.find(i+".active",f);if(!h.hasClass(j.tabClass)){h.addClass(j.tabClass)}if(j.onInit&&typeof j.onInit==="function"){j.onInit(g,h,0)}if(j.onShow&&typeof j.onShow==="function"){j.onShow(g,h,e.nextIndex())}b('a[data-toggle="tab"]',h).on("click",d);b('a[data-toggle="tab"]',h).on("shown shown.bs.tab",c)};b.fn.bootstrapWizard=function(d){if(typeof d=="string"){var c=Array.prototype.slice.call(arguments,1);if(c.length===1){c.toString()}return this.data("bootstrapWizard")[d](c)}return this.each(function(e){var f=b(this);if(f.data("bootstrapWizard")){return}var g=new a(f,d);f.data("bootstrapWizard",g);g.fixNavigationButtons()})};b.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onTabChange:null,onTabClick:null,onTabShow:null}})(jQuery);