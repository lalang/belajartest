/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.0
 * Requires jQuery v1.3.2 or later
 * Supports Bootstrap 2.2.x, 2.3.x, 3.0
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
(function(c){var d=function(o,a){var o=c(o);var p=this;var l='li:has([data-toggle="tab"])';var b=c.extend({},c.fn.bootstrapWizard.defaults,a);var n=null;var m=null;this.rebindClick=function(f,e){f.unbind("click",e).bind("click",e)};this.fixNavigationButtons=function(){if(!n.length){m.find("a:first").tab("show");n=m.find(l+":first")}c(b.previousSelector,o).toggleClass("disabled",(p.firstIndex()>=p.currentIndex()));c(b.nextSelector,o).toggleClass("disabled",(p.currentIndex()>=p.navigationLength()));p.rebindClick(c(b.nextSelector,o),p.next);p.rebindClick(c(b.previousSelector,o),p.previous);p.rebindClick(c(b.lastSelector,o),p.last);p.rebindClick(c(b.firstSelector,o),p.first);if(b.onTabShow&&typeof b.onTabShow==="function"&&b.onTabShow(n,m,p.currentIndex())===false){return false}};this.next=function(e){if(o.hasClass("last")){return false}if(b.onNext&&typeof b.onNext==="function"&&b.onNext(n,m,p.nextIndex())===false){return false}$index=p.nextIndex();if($index>p.navigationLength()){}else{m.find(l+":eq("+$index+") a").tab("show")}};this.previous=function(e){if(o.hasClass("first")){return false}if(b.onPrevious&&typeof b.onPrevious==="function"&&b.onPrevious(n,m,p.previousIndex())===false){return false}$index=p.previousIndex();if($index<0){}else{m.find(l+":eq("+$index+") a").tab("show")}};this.first=function(e){if(b.onFirst&&typeof b.onFirst==="function"&&b.onFirst(n,m,p.firstIndex())===false){return false}if(o.hasClass("disabled")){return false}m.find(l+":eq(0) a").tab("show")};this.last=function(e){if(b.onLast&&typeof b.onLast==="function"&&b.onLast(n,m,p.lastIndex())===false){return false}if(o.hasClass("disabled")){return false}m.find(l+":eq("+p.navigationLength()+") a").tab("show")};this.currentIndex=function(){return m.find(l).index(n)};this.firstIndex=function(){return 0};this.lastIndex=function(){return p.navigationLength()};this.getIndex=function(e){return m.find(l).index(e)};this.nextIndex=function(){return m.find(l).index(n)+1};this.previousIndex=function(){return m.find(l).index(n)-1};this.navigationLength=function(){return m.find(l).length-1};this.activeTab=function(){return n};this.nextTab=function(){return m.find(l+":eq("+(p.currentIndex()+1)+")").length?m.find(l+":eq("+(p.currentIndex()+1)+")"):null};this.previousTab=function(){if(p.currentIndex()<=0){return null}return m.find(l+":eq("+parseInt(p.currentIndex()-1)+")")};this.show=function(e){if(isNaN(e)){return o.find(l+" a[href=#"+e+"]").tab("show")}else{return o.find(l+":eq("+e+") a").tab("show")}};this.disable=function(e){m.find(l+":eq("+e+")").addClass("disabled")};this.enable=function(e){m.find(l+":eq("+e+")").removeClass("disabled")};this.hide=function(e){m.find(l+":eq("+e+")").hide()};this.display=function(e){m.find(l+":eq("+e+")").show()};this.remove=function(i){var f=i[0];var h=typeof i[1]!="undefined"?i[1]:false;var e=m.find(l+":eq("+f+")");if(h){var g=e.find("a").attr("href");c(g).remove()}e.remove()};var q=function(e){var f=m.find(l).index(c(e.currentTarget).parent(l));if(b.onTabClick&&typeof b.onTabClick==="function"&&b.onTabClick(n,m,p.currentIndex(),f)===false){return false}};var r=function(e){$element=c(e.target).parent();var f=m.find(l).index($element);if($element.hasClass("disabled")){return false}if(b.onTabChange&&typeof b.onTabChange==="function"&&b.onTabChange(n,m,p.currentIndex(),f)===false){return false}n=$element;p.fixNavigationButtons()};this.resetWizard=function(){c('a[data-toggle="tab"]',m).off("click",q);c('a[data-toggle="tab"]',m).off("shown shown.bs.tab",r);m=o.find("ul:first",o);n=m.find(l+".active",o);c('a[data-toggle="tab"]',m).on("click",q);c('a[data-toggle="tab"]',m).on("shown shown.bs.tab",r);p.fixNavigationButtons()};m=o.find("ul:first",o);n=m.find(l+".active",o);if(!m.hasClass(b.tabClass)){m.addClass(b.tabClass)}if(b.onInit&&typeof b.onInit==="function"){b.onInit(n,m,0)}if(b.onShow&&typeof b.onShow==="function"){b.onShow(n,m,p.nextIndex())}c('a[data-toggle="tab"]',m).on("click",q);c('a[data-toggle="tab"]',m).on("shown shown.bs.tab",r)};c.fn.bootstrapWizard=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1);if(b.length===1){b.toString()}return this.data("bootstrapWizard")[a](b)}return this.each(function(j){var i=c(this);if(i.data("bootstrapWizard")){return}var h=new d(i,a);i.data("bootstrapWizard",h);h.fixNavigationButtons()})};c.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onTabChange:null,onTabClick:null,onTabShow:null}})(jQuery);